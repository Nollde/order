language: python

stages:
  - lint
  - test

lint:
  stage: lint
  tags:
    - docker
  image: python:3.7
  script:
    - export PATH="$PATH:/root/.local/bin"
    - pip install flake8 --user
    - flake8 order

unittests_py2:
  stage: test
  tags:
    - docker
  image: python:2.7
  script:
    - python -m unittest test

unittests_py3:
  stage: test
  tags:
    - docker
  image: python:2.7
  script:
    - python -m unittest test
